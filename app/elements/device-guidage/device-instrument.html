<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="device-compass.html">
<link rel="import" href="device-guidage.html">
<link rel="import" href="../distance-elem/distance-element.html">
<link rel="import" href="../../bower_components/geo-location/geo-location.html">

<dom-module id="device-instrument">
  <template>
    <div style="display:block;height:250px">
    <distance-element latitude="{{lat}}" longitude="{{long}}" destination-latitude="{{destlat}}" destination-longitude="{{destlong}}" distance="{{dist}}"></distance-element>
    <geo-location watch-pos latitude="{{latitude}}" longitude="{{longitude}}"></geo-location>
    <device-guidage latitude="{{latitude}}"  longitude="{{longitude}}" destination-latitude="{{destlat}}" destination-longitude="{{destlong}}"  alpha="{{alpha}}"></device-guidage>
    </div>
  </template>
  <paper-button on-click="emitDone" >Done</paper-button>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'device-instrument',
        ready :function() {

        },
        emitDone:function(){
          this.fire('eventFromIndiceChild',this.properties.indice.index);

        },
        showLocation:function(event){
          alert(event)
        },
        showError:function(){},
        changeDestong:function(newval,oldval){
          console.log(newval)
        },

        changeDestLat:function(newval,oldval){
          console.log(newval)
        },
        properties:{
          destlat: {type: Number, notify: true, observer: 'changeDestLat'},
          destlong: {type: Number, notify: true, observer: 'changeDestLong'},
        }
      });
    })();
  </script>
</dom-module>
