<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="geo-test.html">

<dom-module id="test-geo">
  <style>



  </style>
  <template>
    <button on-click="fetch">FETCH</button>

    <geo-test id="geo" high-accuracy watch-pos longitude={{long}}  accuracy = {{acc}} latitude="{{latitude}}"></geo-test>
    Latitude :{{latitude}} Lomgitude:{{long}} Accuracy:{{acc}}
    NewLat {{newlat}}
    EventLoc {{eventloc}}
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'test-geo',
        ready :function() {
          this.addEventListener('geo-response',this.handle.bind(this));
        },
        fetch:function(){
          this.$.geo.fetch();
        },
        handle:function(event){
          this.newLat=event.detail.latitude;
          this.set('newlat',this.newlat)



        },

        _arrayobs:function(oldval,newval){
          console.log(oldval)
        },

        properties: {
          items:{type:Array,notify:true,value:[],observer:'_arrayobs'},
          newlat:{type:Number,notify:true},
          eventloc:{type:Number,value:0,notify:true},

        }
      });
    })();
  </script>
</dom-module>
