<!--
@license
Copyright Pierre-Yves Gicquel ReVeRIES project-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/sortable/Sortable.html">
<dom-module id="item-list">
    <template>
        <style>
        :host {
            display: block;
        }
        
        .element {
            border-style: solid;
            border-width: 1px;
            justify-content: center;
            font-family: monospace;
            font-weight: 100;
        }
        
        .noElement {
            border-style: dashed;
            justify-content: center;
            font-family: monospace;
            font-weight: 100;
        }
        </style>
        <paper-listbox>
        <sortable-js group="common" handle=".handle">
            <template is="dom-repeat" items={{items}} as="item">
                <paper-item class="handle">
                    {{item}}
                </paper-item>
            </template>
            <template is="dom-if" if="{{!items.length}}">
                <paper-item   class="handle noElement">
                    <div>{{listname}}</div>
                </paper-item>
            </template>
            <template is="dom-if"  if="{{noMaxElement(items)}}">
                <paper-item class="handle noElement">
                    <div>{{listname}}</div>
                </paper-item>
            </template>
            </sortable-js>

        </paper-listbox>
    </template>
    <script>
    (function() {
        'use strict';

        Polymer({
            is: 'item-list',



            ready: function() {},
            noElement: function() {
                if (this.get('items').length > 0) {
                    return false
                }
                return true
            },

            noMaxElement: function(items) {
                var len = items.length;
                console.log(len)

                return len < this.get('maxElement');
            },

            _addRemove: function(newval, oldval) {
                console.log(newval);
                console.log(oldval);
            },
            properties: {
                items: {
                    type: Array,
                    notify: true,
                    value: [],
                    observer: '_addRemove',
                },
                listname: {
                    type: String,
                    notify: true,
                },
                maxElement: {
                    type: Number,
                    notify: true,
                    value: 4,
                },

            },


        });
    })();
    </script>
</dom-module>
